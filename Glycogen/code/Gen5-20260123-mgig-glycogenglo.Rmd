---
title: "Gen5-20260123-mgig-glycogenglo"
author: "Hazel Abrahamson-Amerine"
date: "2026-01-23"
output: html_document
---

```{r data, include=TRUE}

plate_layout <- read.csv("https://raw.githubusercontent.com/RobertsLab/sormi-assay-development/refs/heads/main/Glycogen/data/raw_luminescence/layout-Gen5-20260123-mgig-glycogenglo.csv", header = FALSE)
raw_luminescence <- read.csv("https://raw.githubusercontent.com/RobertsLab/sormi-assay-development/refs/heads/main/Glycogen/data/raw_luminescence/raw_lum-Gen5-20260123-mgig-glycogenglo.csv", header = FALSE)

cat("Plate layout:\n")
str(plate_layout)

cat("\n\n")

cat("Raw luminescence:\n")
str(raw_luminescence)
```

# STANDARD CURVES

## Glycogen Standard Curve

### Extract luminescence data

```{r extract-glycogen-data, include=TRUE}
# Extract glycogen standard curve data from plate layout and raw luminescence.
# Rows F, G, H (rows 6, 7, 8) correspond to glycogen standards
# Columns 1-5 contain the standard curve concentrations

# Extract concentration values from plate layout (row 6, columns 1-5)
# Parse concentration from labels like "STD-glyc-20" -> 20
concentrations <- as.numeric(gsub("STD-glyc-", "", plate_layout[6, 1:5]))

# Extract standard curve luminescence values for each replicate from raw_luminescence
row_F <- as.numeric(raw_luminescence[6, 1:5])  # Row 5 (E)
row_G <- as.numeric(raw_luminescence[7, 1:5])  # Row 6 (F)
row_H <- as.numeric(raw_luminescence[8, 1:5])  # Row 7 (G)

# Extract sample data from rows A-E (columns 1-3, 4-6)
# Parse dilution factors from labels like "A2-glyc-50-df.10" -> 10
#unsure of how to adjust code to read sample replicates horizontally
sample_cols <- c(1,2,3)
dilution_factors_row_A <- as.numeric(gsub(".*-df\\.", "", plate_layout[1, sample_cols]))
dilution_factors_row_B <- as.numeric(gsub(".*-df\\.", "", plate_layout[2, sample_cols]))
dilution_factors_row_C <- as.numeric(gsub(".*-df\\.", "", plate_layout[3, sample_cols]))
dilution_factors_row_D <- as.numeric(gsub(".*-df\\.", "", plate_layout[4, sample_cols]))
dilution_factors_row_E <- as.numeric(gsub(".*-df\\.", "", plate_layout[5, sample_cols]))

sample_luminescence_row_A <- as.numeric(raw_luminescence[1, sample_cols])
sample_luminescence_row_B <- as.numeric(raw_luminescence[2, sample_cols])
sample_luminescence_row_C <- as.numeric(raw_luminescence[2, sample_cols])
sample_luminescence_row_D <- as.numeric(raw_luminescence[2, sample_cols])
sample_luminescence_row_E <- as.numeric(raw_luminescence[2, sample_cols])

# Combine the two rows of samples

```
